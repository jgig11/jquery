<html>
	<head>
		<title>cookie的生存期</title>
		<script language="javascript" type="text/javascript">
		<!--
			if(document.cookie=="")
			{
				document.write("当前没有cookie");
			}
			else
			{
				document.write("cookie文件中的内容为：<br>");
				document.write(document.cookie,"<br>");
				document.write("cookieName的值为：",getCookieValue("cookieName"),"<br>");
				document.write("cookiePassword的值为：", getCookieValue("cookiePassword"),"<br>");
			}
			
			function setCookie()
			{
				var cookie1 = "cookieName = " + escape(document.myForm.myName.value);
				var cookie2 = "cookiePassword = " + escape(document.myForm.myPassword.value);
				if (myForm.cookieDate.value!="0")
				{
					//获取当前日期
					var now = new Date();
					//在当前日期上加上Cookie的存活时间
					now.setDate(now.getDate() + parseInt(myForm.cookieDate.value));
					cookie1 = cookie1+";expires=" + now.toGMTString();
					cookie2 = cookie2+";expires=" + now.toGMTString();
				}
				document.cookie = cookie1;
				document.cookie = cookie2;
				alert("cookie设置完毕");
			}
			
			function getCookieValue(cookieName)
			{
				var cookies = unescape(document.cookie);
				var cookieIndex = cookies.indexOf(cookieName+"=");
				if (cookieIndex!=-1)
				{
					var cookieValueStart = cookieIndex + cookieName.length + 1;
					var cookieValueEnd = cookies.indexOf(";",cookieValueStart);
					if (cookieValueEnd == -1)
					{
						cookieValueEnd = cookies.length;
					}
					var cookieValue = cookies.substring(cookieValueStart,cookieValueEnd);
					return cookieValue;
				}
			}
		-->
		</script>
	</head>
	<body>
		<form name="myForm">
			姓名：<input type="text" name="myName"><br>
			密码：<input type="password" name="myPassword"><br>
			选择cookie的保留时间：
			<select name="cookieDate">
				<option value="1">1天</option>
				<option value="30">30天</option>
				<option value="365">365天</option>
				<option value="0" selected>不保留</option>
			</select><br>
			<input type="button" value="确定" onclick="setCookie()">
		</form>
	</body>
</html>

